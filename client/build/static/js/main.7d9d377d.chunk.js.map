{"version":3,"sources":["hooks/http.hook.js","hooks/message.hook.js","context/AuthContext.js","pages/CreatePage.js","components/Loader.js","components/LinkCard.js","pages/DetailPage.js","components/LinksList.js","pages/LinksPage.js","pages/AuthPage.js","hooks/auth.hook.js","components/Navbar.js","App.js","routes.js","reportWebVitals.js","index.js"],"names":["useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useMessage","text","window","M","toast","html","noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","CreatePage","history","useHistory","auth","useContext","link","setLink","useEffect","updateTextFields","pressHandler","event","key","target","id","from","Authorization","push","_id","className","type","value","onChange","e","onKeyPress","htmlFor","onClick","Loader","LinkCard","href","to","rel","clicks","Date","date","toLocaleDateString","DetailPage","linkId","useParams","getLink","fetched","LinksList","links","sortHandler","preventDefault","length","disabled","slice","reverse","map","index","LinksPage","setLinks","fetchLinks","AuthPage","email","password","form","setForm","changeHandler","name","registerHandler","loginHandler","storageName","Navbar","App","setToken","ready","setReady","setUserId","jwtToken","localStorage","setItem","removeItem","parse","getItem","useAuth","routes","path","exact","useRoutes","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d9d377d.chunk.js","sourcesContent":["import { useState, useCallback } from \"react\"\n\n\nexport const useHttp = () => {\n    const [loading, setLoading] = useState(false)\n    const [error, setError] = useState(null)\n\n    const request = useCallback( async (url, method = 'GET', body = null, headers = {}) => {\n        setLoading(true)\n        try {\n            if(body){\n                body = JSON.stringify(body)\n                headers['Content-Type'] = 'application/json'\n            }\n            const response = await fetch(url, {method, body, headers})\n            const data = await response.json()\n\n            if (!response.ok) {\n                throw new Error(data.message || 'Щось пішло не так')\n            }\n\n            setLoading(false)\n\n            return data\n        } catch (e) {\n            setLoading(false)\n            setError(e.message)\n            throw e\n        }\n    }, [])\n\n    const clearError = useCallback(() => setError(null), [])\n\n    return { loading, request, error, clearError }\n}","import { useCallback } from \"react\"\n\n\nexport const useMessage = () => {\n    return useCallback(text => {\n        if (window.M && text){\n            window.M.toast({ html: text })\n        }\n    }, [])\n}","import {createContext} from 'react'\n\nfunction noop() {}\n\nexport const AuthContext = createContext({\n    token: null,\n    userId: null,\n    login: noop,\n    logout: noop,\n    isAuthenticated: false\n})","import React, {useContext, useEffect, useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport {AuthContext} from '../context/AuthContext'\nimport { useHistory } from 'react-router-dom'\n\nexport const CreatePage = () => {\n    const message = useMessage()\n    const history = useHistory()\n    const auth = useContext(AuthContext)\n    const {request} = useHttp()\n    const [link, setLink] = useState('')\n \n    useEffect(() => {\n        window.M.updateTextFields()\n    }, [])\n\n    const pressHandler = async event => {\n        if(event.key === 'Enter' || event.target.id === \"createLink\"){\n            try {\n                const data = await request('/api/link/generate', 'POST', {from: link}, {\n                    Authorization: `Bearer ${auth.token}`\n                })\n                message('Створено скорочене посилання')\n                history.push(`/detail/${data.link._id}`)\n            } catch (e) {}\n        }\n\n    }\n\n    return (\n        <div className=\"row\">\n            <div className=\"col s8 offset-s2 createpage_container\">\n                <div className=\"card light-blue darken-1\">\n                    <div className=\"card-content white-text\">\n                        <span className=\"card-title center-align createpage_title\">Скоротити посилання</span>  \n                        <div className=\"input-field\">\n                            <i className=\"material-icons prefix\">link</i>\n                            <input \n                                id=\"link\" \n                                type=\"text\" \n                                className=\"input_white\"\n                                value={link}\n                                onChange={e => setLink(e.target.value)}\n                                onKeyPress={pressHandler}\n                                //onBlur={blurHandler}\n                            />\n                            <label htmlFor=\"link\">Вставте посилання у поле і натисніть Введення</label>\n                        </div>\n                        <div className=\"center-align\">\n                            <button \n                                id=\"createLink\" \n                                className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                                onClick={pressHandler}\n                                >\n                                Скоротити\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import React from 'react'\n\nexport const Loader = () => (\n    <div className=\"page_preloader\">\n        <div className=\"preloader-wrapper big active\">\n            <div className=\"spinner-layer spinner-light-blue darken-1\">\n            <div className=\"circle-clipper left\">\n            <div className=\"circle\"/>\n            </div><div className=\"gap-patch\">\n            <div className=\"circle\"/>\n            </div><div className=\"circle-clipper right\">\n            <div className=\"circle\"/></div>\n        </div>\n\n        <div className=\"spinner-layer spinner-yellow darken-1\">\n            <div className=\"circle-clipper left\">\n            <div className=\"circle\"/>\n            </div><div className=\"gap-patch\">\n            <div className=\"circle\"/>\n            </div><div className=\"circle-clipper right\">\n            <div className=\"circle\"/></div>\n        </div>\n        </div>\n    </div>\n)","import React from 'react'\n\nexport const LinkCard = ({ link }) => {\n    return (\n        <>\n            <h2>Деталі посилання</h2>\n\n            <p>Скорочене посилання: <a href={link.to} target=\"_blank\" rel=\"noopener noreferrer\">{link.to}</a></p>\n            <div className=\"old_link_container\">\n                <div className=\"old_link_title\">\n                    Оригінальне посилання: \n                </div>\n                <div className=\"old_link_a_container\">\n                    <a href={link.from} target=\"_blank\" rel=\"noopener noreferrer\" className=\"old_link_a\">{link.from}</a>\n                </div>\n            </div>\n            <p>Кількість переходів за посиланням: <strong>{link.clicks}</strong></p>\n            <p>Дата створення: <strong>{new Date(link.date).toLocaleDateString()}</strong></p>\n        </>\n    )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useParams} from 'react-router-dom'\nimport { useHttp } from '../hooks/http.hook'\nimport { AuthContext } from '../context/AuthContext'\nimport { Loader } from '../components/Loader'\nimport { LinkCard } from '../components/LinkCard'\n\nexport const DetailPage = () => {\n    const {token} = useContext(AuthContext)\n    const {request, loading} = useHttp()\n    const [link, setLink] = useState(null)\n    // @ts-ignore\n    const linkId = useParams().id\n\n    const getLink = useCallback( async () => {\n        try {\n            const fetched = await request(`/api/link/${linkId}`, 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setLink(fetched)\n        } catch (e) {}\n    }, [token, linkId, request])\n\n    useEffect(() => {\n        getLink()\n    }, [getLink])\n\n    if (loading){\n        return <Loader />\n    }\n\n    return (\n        <>\n            { !loading && link && <LinkCard link={link} /> }\n        </>\n    )\n}","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport { useHttp } from '../hooks/http.hook'\n\nexport const LinksList = ({ links }) => {\n\n    const { loading } = useHttp()\n\n    const sortHandler = event => {\n        event.preventDefault()\n    }\n\n    if (!links.length) {\n        return <h5 className=\"center\">У вас поки нема посилань</h5>\n    }\n    return (\n            <table className=\"responsive-table striped\">\n            <thead>\n            <tr className=\"linklist_table_top\">\n                <th>\n                    <button \n                        className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                        onClick={sortHandler}\n                        disabled={loading}\n                        >\n                            №\n                            <i className=\"material-icons prefix table_sort_arrow\">arrow_drop_down</i>\n                    </button>\n                </th>\n                <th>\n                    <button \n                        className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                        onClick={sortHandler}\n                        disabled={loading}\n                        >\n                            Коротке посилання\n                            <i className=\"material-icons prefix table_sort_arrow\">arrow_drop_down</i>\n                    </button>\n                </th>\n                <th>\n                    <button \n                        className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                        onClick={sortHandler}\n                        disabled={loading}\n                        >\n                            Оригінальне посилання\n                            <i className=\"material-icons prefix table_sort_arrow\">arrow_drop_down</i>\n                    </button>\n                </th>\n                <th>\n                    <button \n                        className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                        onClick={sortHandler}\n                        disabled={loading}\n                        >\n                            Деталі\n                            <i className=\"material-icons prefix table_sort_arrow\">arrow_drop_down</i>\n                    </button>\n                </th>\n            </tr>\n            </thead>\n\n            <tbody>\n            { links.slice(0).reverse().map((link, index) => {\n                return (\n                <tr key={link._id}>\n                    <td>{index+1}</td>\n                    <td><a href={link.to} target=\"_blank\" rel=\"noopener noreferrer\" className=\"old_link_a\">{link.to}</a></td>\n                    <td className=\"linkslist_oldlink\">\n                        <div className=\"linkslist_oldlink_inner\">\n                            <a href={link.from} target=\"_blank\" rel=\"noopener noreferrer\" className=\"old_link_a\">{link.from}</a>\n                        </div>\n                    </td>\n                    <td>\n                        <button className=\"btn light-blue darken-1 black-text waves-effect waves-light linklist_details\">\n                            <Link to={`/detail/${link._id}`} className=\"linklist_details_open\">Відкрити</Link>\n                        </button>\n                    </td>\n                </tr>\n                )\n            }) }\n            </tbody>\n        </table>\n    )\n}","import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport { AuthContext } from '../context/AuthContext'\nimport { useHttp } from '../hooks/http.hook'\nimport { Loader } from '../components/Loader'\nimport { LinksList } from '../components/LinksList'\n\nexport const LinksPage = () => {\n    const [links, setLinks] = useState([])\n    const {loading, request} = useHttp()\n    const {token} = useContext(AuthContext)\n\n    const fetchLinks = useCallback( async () => {\n        try {\n            const fetched = await request('/api/link', 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setLinks(fetched)\n        } catch (e) {}\n    }, [token, request])\n\n    useEffect(() => {\n        fetchLinks()\n    }, [fetchLinks])\n\n    if (loading) {\n        return <Loader />\n    }\n\n    return (\n        <>\n            { !loading && <LinksList links={ links }/> }\n        </>\n    )\n}","import React, {useContext, useEffect, useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {useMessage} from '../hooks/message.hook'\nimport { AuthContext } from '../context/AuthContext'\n\nexport const AuthPage = () => {\n    const auth = useContext(AuthContext)\n    const message = useMessage()\n    const { loading, request, error, clearError } = useHttp()\n    const [form, setForm]= useState({\n        email: '', password:''\n    })\n\n    useEffect(() => {\n        message(error)\n        clearError()\n    }, [error, message, clearError])\n\n    useEffect(() => {\n        window.M.updateTextFields()\n    }, [])\n\n    const changeHandler = event => {\n        setForm({ ...form, [event.target.name]: event.target.value })\n    }\n\n    const registerHandler = async () => {\n        try {\n            const data = await request('/api/auth/register', 'POST', {...form})\n            message(data.message)\n        } catch (e) {}\n    }\n    \n    const loginHandler = async (event) => {\n        if(event.key === 'Enter' || event.target.id === \"loginUser\")\n        try {\n            const data = await request('/api/auth/login', 'POST', {...form})\n            message(data.message)\n            // @ts-ignore\n            auth.login(data.token, data.userId)\n        } catch (e) {}\n    }\n\n    /*const blurHandler = useCallback(() => {\n        \n    }, [])*/\n\n    return (\n        <div className=\"row\">\n            <div className=\"col s6 offset-s3 center-align\">\n                <h1>Скорочувач Посилань</h1>\n                <div className=\"card light-blue darken-1\">\n                    <div className=\"card-content white-text\">\n                        <span className=\"card-title center-align\">Авторизація</span>  \n                        <div>\n                            <div className=\"input-field\">\n                                <i className=\"material-icons prefix\">email</i>\n                                <input \n                                    id=\"email\" \n                                    type=\"text\" \n                                    name=\"email\"\n                                    className=\"input_white\"\n                                    value={form.email}\n                                    onChange={changeHandler}\n                                    //onBlur={blurHandler}\n                                />\n                                <label htmlFor=\"email\">Імейл</label>\n                            </div>\n                            <div className=\"input-field\">\n                                <i className=\"material-icons prefix\">lock</i>\n                                <input \n                                    id=\"password\" \n                                    type=\"password\"\n                                    name=\"password\"\n                                    className=\"input_white\" \n                                    value={form.password}\n                                    onChange={changeHandler}\n                                    onKeyPress={loginHandler}\n                                    //onBlur={blurHandler}\n                                />\n                                <label htmlFor=\"password\">Пароль</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"card-action right-align\">\n                        <button \n                            id=\"loginUser\"\n                            className=\"btn yellow darken-2 waves-effect waves-light sign_in_btn\"\n                            onClick={loginHandler}\n                            disabled={loading}\n                        >\n                            Вхід\n                        </button>\n                        <button \n                            className=\"btn grey lighten-4 black-text waves-effect waves-dark\"\n                            onClick={registerHandler}\n                            disabled={loading}\n                        >\n                            Реєстрація\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import { useState, useCallback, useEffect } from 'react'\n\nconst storageName = 'userData'\n\nexport const useAuth = () => {\n    const [ token, setToken ] = useState(null)\n    const [ ready, setReady ] = useState(false)\n    const [ userId, setUserId ] = useState(null)\n\n    const login = useCallback((jwtToken, id) => {\n        setToken(jwtToken)\n        setUserId(id)\n\n        localStorage.setItem(storageName, JSON.stringify({\n            userId: id, token: jwtToken\n        }))\n    }, [])\n    \n    const logout = useCallback(() => {\n        setToken(null)\n        setUserId(null)\n        localStorage.removeItem(storageName)\n    }, [])\n\n    useEffect(()=>{\n        const data = JSON.parse(localStorage.getItem(storageName))\n\n        if (data && data.token){\n            login(data.token, data.userId)\n        }\n        setReady(true)\n    }, [login])\n\n    return { login, logout, token, userId, ready }\n}","import { AuthContext } from 'context/AuthContext'\nimport React, { useContext } from 'react'\nimport { NavLink, useHistory } from 'react-router-dom'\n\nexport const Navbar = () => {\n    const history = useHistory()\n    const auth = useContext(AuthContext)\n\n    const logoutHandler = event => {\n        event.preventDefault()\n        auth.logout()\n        history.push('/')\n    }\n\n    return (\n    <nav>\n        <div className=\"nav-wrapper light-blue darken-1 page_navbar\">\n        <span className=\"brand-logo\">Скорочувач посилань</span>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li><NavLink to=\"/create\">Створити</NavLink></li>\n            <li><NavLink to=\"/links\">Мої посилання</NavLink></li>\n            <li><a href=\"/\" onClick={logoutHandler}>Вийти</a></li>\n        </ul>\n        </div>\n    </nav>\n    )\n}","import React from 'react'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {useRoutes} from './routes'\nimport { useAuth } from './hooks/auth.hook'\nimport { AuthContext } from './context/AuthContext'\nimport { Navbar } from './components/Navbar'\nimport { Loader } from './components/Loader'\nimport 'materialize-css'\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth() \n  const isAuthenticated = !!token\n  const routes = useRoutes(isAuthenticated)\n\n  if (!ready){\n    return <Loader />\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, isAuthenticated\n    }}>\n      <Router>\n        { isAuthenticated && <Navbar></Navbar>}\n        <div className=\"container\">\n          {routes}\n        </div>\n      </Router>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { CreatePage } from './pages/CreatePage'\nimport { DetailPage } from './pages/DetailPage'\nimport { LinksPage } from './pages/LinksPage'\nimport { AuthPage } from './pages/AuthPage'\n\nexport const useRoutes = isAuthenticated => {\n    if(isAuthenticated){\n        return(\n            <Switch>\n                <Route path=\"/links\" exact>\n                    <LinksPage/>\n                </Route>\n                <Route path=\"/create\" exact>\n                    <CreatePage/>\n                </Route>\n                <Route path=\"/detail/:id\" exact>\n                    <DetailPage/>\n                </Route>\n                <Redirect to=\"/create\"/>\n            </Switch>\n        )\n    }\n\n    return(\n        <Switch>\n            <Route path=\"/\" exact>\n                <AuthPage/>\n            </Route>\n            <Redirect to=\"/\"/>\n        </Switch>\n    )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}